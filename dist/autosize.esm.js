var e="function"==typeof ResizeObserver&&"function"==typeof WeakMap,t=e?new WeakMap:new Map,r=function(){if(e)return new ResizeObserver(function(e){return e.forEach(function(e){return n(e.target)})});var r=function(){return t.forEach(function(e,t){return n(t)})};return window.addEventListener("resize",r),{observe:function(){},unobserve:function(){},disconnect:function(){return window.removeEventListener("resize",r)}}}();function o(e){return e.width+"-"+e.height+"-"+e.padding+"-"+e.borderWidth+"-"+e.overflow+"-"+e.boxSizing+"-"+e.textAlign}function n(e){var r=t.get(e);void 0!==r&&e.scrollHeight>0&&o(r.computed)!==r.previousStyles&&r.update()}function i(e){var r=t.get(e);r&&r.destroy()}function l(e){var r=t.get(e);r&&r.update()}var s=null;"undefined"==typeof window?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,n){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!t.has(e)){var n,i=null,l=null,s=window.getComputedStyle(e),a=(n=e.value,function(){d({testForHeightReduction:""===n||!e.value.startsWith(n),restoreTextAlign:null}),n=e.value}),u=function(o){e.removeEventListener("autosize:destroy",u),e.removeEventListener("autosize:update",c),e.removeEventListener("input",a),Object.keys(o).forEach(function(t){return e.style[t]=o[t]}),t.delete(e),r.unobserve(e)}.bind(e,{height:e.style.height,resize:e.style.resize,textAlign:e.style.textAlign,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",u),e.addEventListener("autosize:update",c),e.addEventListener("input",a),r.observe(e),e.style.overflowX="hidden",e.style.wordWrap="break-word",t.set(e,{destroy:u,update:c,get previousStyles(){return l},computed:s}),c()}function d(t){var r=t.restoreTextAlign,n=void 0===r?null:r,a=t.testForHeightReduction,u=void 0===a||a,c=s.overflowY;if(0!==e.scrollHeight){var f,v;if("vertical"===s.resize?e.style.resize="none":"both"===s.resize&&(e.style.resize="horizontal"),u&&(f=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push([e.parentNode,e.parentNode.scrollTop]),e=e.parentNode;return function(){return t.forEach(function(e){var t=e[0],r=e[1];t.style.scrollBehavior="auto",t.scrollTop=r,t.style.scrollBehavior=null})}}(e),e.style.height=""),v="content-box"===s.boxSizing?e.scrollHeight-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)):e.scrollHeight+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),"none"!==s.maxHeight&&v>parseFloat(s.maxHeight)?("hidden"===s.overflowY&&(e.style.overflow="scroll"),v=parseFloat(s.maxHeight)):"hidden"!==s.overflowY&&(e.style.overflow="hidden"),e.style.height=v+"px",n&&(e.style.textAlign=n),f&&f(),i!==v&&(e.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),i=v),c!==s.overflow&&!n){var p=s.textAlign;"hidden"===s.overflow&&(e.style.textAlign="start"===p?"end":"start"),d({restoreTextAlign:p,testForHeightReduction:!0})}l=o(s)}}function c(){d({testForHeightReduction:!0,restoreTextAlign:null})}}(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e});var a=s;export default a;
